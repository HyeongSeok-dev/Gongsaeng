<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.gongsaeng.mapper.BankMapper">
	<insert id="insertBoard">
	<selectKey keyProperty="board_num" resultType="int" order="BEFORE">
		SELECT IFNULL(MAX(board_idx), 0)
		FROM board
	</selectKey>
	INSERT
	INTO board
	VALUES (
		#{board_idx} + 1 -- 미리 조회된 게시물 번호 + 1 값 사용
		, #{member_id}
		, #{board_subject}
		, #{board_content}
		, now()
		, #{board_main_category}
		, #{board_sub_category}
		, #{board_img1}
		, #{board_img2}
		, #{board_img3}
	)
	</insert>
</mapper>