<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.gongsaeng.mapper.BoardMapper">
	<insert id="insertBoard">
	<selectKey keyProperty="board_idx" resultType="int" order="BEFORE">
		SELECT IFNULL(MAX(board_idx), 0)
		FROM board
	</selectKey>
	INSERT
	INTO board
	VALUES (
		#{board_idx} + 1
		, #{member_id}
		, #{board_subject}
		, #{board_content}
		, now()
		, #{board_main_category}
		, #{board_sub_category}
		, #{board_img1}
		, #{board_img2}
		, #{board_img3}
	)
	</insert>
	
	<!-- 함께해요 목록 조회 - SELECT -->
	<select id="selectTogetherList" resultType="map">
		SELECT *
		FROM board
		WHERE board_main_category = 6
	</select>
	
	<!-- 함께해요 목록 개수 조회 - SELECT -->
	<select id="selectTogetherListCount" resultType="int">
		SELECT COUNT(*)
		FROM board
	</select>
	
</mapper>